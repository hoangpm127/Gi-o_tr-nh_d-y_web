<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Buá»•i 3 â€” Web Builder Foundation</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet"/>
<style>
*{box-sizing:border-box;margin:0;padding:0}
:root{--dark:#09090f;--surface:#13132a;--border:rgba(255,255,255,.09);--muted:#666688}
html,body{width:100%;height:100%;overflow:hidden;background:var(--dark);font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Helvetica Neue',Arial,'Noto Sans',sans-serif;color:#e0e0f0}
#deck{position:fixed;inset:0;bottom:80px}
.slide{position:absolute;inset:0;opacity:0;pointer-events:none;transition:opacity .4s ease,transform .4s ease;transform:translateX(30px)}
.slide.active{opacity:1;pointer-events:auto;transform:translateX(0)}
.slide.out{opacity:0;transform:translateX(-30px);pointer-events:none}
.bg-img{position:absolute;inset:0;background-size:cover;background-position:center;filter:brightness(.25) saturate(.6)}
.bg-color{position:absolute;inset:0}
.content{position:relative;z-index:2;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:48px 80px;text-align:center}
.stag{display:inline-block;padding:5px 18px;border-radius:8px;font-size:.72rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;margin-bottom:20px;border:1px solid}
h1.huge{font-size:clamp(2.4rem,5vw,4.4rem);font-weight:900;line-height:1.1;color:#fff}
h2.big{font-size:clamp(1.6rem,3.2vw,2.8rem);font-weight:900;line-height:1.15;color:#fff;max-width:860px}
.sub{font-size:clamp(.9rem,1.55vw,1.12rem);color:rgba(255,255,255,.55);margin-top:14px;line-height:1.75;max-width:700px}
.sub strong{color:rgba(255,255,255,.88)}
.rule{width:52px;height:4px;border-radius:2px;margin:18px auto}
.cards{display:flex;gap:16px;margin-top:30px;flex-wrap:wrap;justify-content:center;width:100%;max-width:900px}
.card{flex:1;min-width:180px;padding:20px;border-radius:14px;text-align:left}
.card-icon{font-size:1.8rem;margin-bottom:10px}
.card-title{font-weight:800;font-size:1rem;margin-bottom:6px}
.card-body{font-size:.83rem;line-height:1.65;color:rgba(255,255,255,.6)}
.compare{display:grid;grid-template-columns:1fr 1fr;gap:16px;width:100%;max-width:880px;margin-top:26px}
.compare-box{border-radius:14px;padding:22px;text-align:left}
.compare-label{font-size:.68rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;margin-bottom:10px}
.compare-text{font-size:.88rem;line-height:1.7;color:rgba(255,255,255,.75)}
#q-panel{position:fixed;inset:0;bottom:80px;z-index:500;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px 48px;background:rgba(9,9,15,.95);backdrop-filter:blur(20px);opacity:0;pointer-events:none;transition:opacity .35s ease}
#q-panel.show{opacity:1;pointer-events:auto}
#q-text{font-size:clamp(1.1rem,2.2vw,1.6rem);font-weight:800;color:#fff;max-width:820px;text-align:center;line-height:1.4;margin-bottom:28px}
#q-opts{display:flex;flex-direction:column;gap:11px;width:100%;max-width:720px}
.q-opt{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:14px 20px;text-align:left;cursor:pointer;font-size:.93rem;color:rgba(255,255,255,.8);line-height:1.5;transition:background .15s,border-color .15s,transform .12s;display:flex;align-items:flex-start;gap:12px}
.q-opt:hover:not(:disabled){background:rgba(255,255,255,.09);border-color:rgba(255,255,255,.2);transform:translateX(3px)}
.opt-num{min-width:26px;height:26px;border-radius:7px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.15);display:flex;align-items:center;justify-content:center;font-size:.78rem;font-weight:700;color:rgba(255,255,255,.5);flex-shrink:0;margin-top:1px}
.q-opt.correct{background:rgba(6,214,160,.13);border-color:rgba(6,214,160,.45)}
.q-opt.correct .opt-num{background:#06d6a0;color:#0a1a0a;border-color:#06d6a0}
.q-opt.wrong{background:rgba(239,68,68,.1);border-color:rgba(239,68,68,.3)}
.q-opt.wrong .opt-num{background:rgba(239,68,68,.6);color:#fff;border-color:transparent}
.q-opt:disabled{cursor:default}
#q-countdown{display:none;margin-top:16px;font-size:.84rem;font-weight:700;color:#6ee7b7;text-align:center}
.q-cbar-wrap{width:100%;max-width:720px;height:3px;background:rgba(255,255,255,.07);border-radius:2px;margin-top:8px;overflow:hidden;display:none}
.q-cbar-fill{height:100%;background:#06d6a0;width:100%;transition:none}
#q-feedback{max-width:720px;width:100%;margin-top:16px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:14px 18px;font-size:.88rem;line-height:1.65;color:rgba(255,255,255,.78);display:none;text-align:left}
#q-feedback.show{display:block}
#q-continue{margin-top:18px;padding:11px 32px;border-radius:10px;border:none;cursor:pointer;font-size:.9rem;font-weight:700;letter-spacing:.3px;display:none;transition:opacity .2s,transform .2s}
#q-continue.show{display:inline-flex;align-items:center;gap:8px}
#q-continue:hover{opacity:.85;transform:translateY(-1px)}
#bar{position:fixed;bottom:0;left:0;right:0;height:80px;z-index:400;background:rgba(9,9,15,.93);backdrop-filter:blur(14px);border-top:1px solid var(--border);display:flex;align-items:center}
#prog{position:fixed;top:0;left:0;height:3px;z-index:600;transition:width .35s,background .35s}
#nav-prev,#nav-next{position:fixed;top:calc(50% - 40px);width:44px;height:44px;border-radius:50%;border:none;cursor:pointer;background:rgba(255,255,255,.07);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;transition:background .18s;z-index:300}
#nav-prev:hover,#nav-next:hover{background:rgba(255,255,255,.16)}
#nav-prev{left:16px}#nav-next{right:16px}
#bar-left{display:flex;align-items:center;gap:10px;padding:0 20px;flex-shrink:0}
#bar-center{flex:1;display:flex;align-items:center;padding:0 8px;overflow:hidden}
#bar-right{display:flex;align-items:center;gap:8px;padding:0 18px;flex-shrink:0}
#v-script{font-size:.79rem;color:rgba(255,255,255,.4);line-height:1.45;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-style:italic}
.b-btn{width:38px;height:38px;border-radius:50%;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .18s;flex-shrink:0}
#v-play{background:rgba(6,214,160,.22);border:1px solid rgba(6,214,160,.4)}
#v-play:hover{background:rgba(6,214,160,.38)}
#v-play.playing{background:rgba(239,68,68,.22);border-color:rgba(239,68,68,.4)}
#v-auto{padding:0 12px;width:auto;border-radius:8px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);font-size:.72rem;font-weight:700;color:rgba(255,255,255,.42);letter-spacing:.8px}
#v-auto.on{background:rgba(6,214,160,.25);border-color:rgba(6,214,160,.5);color:#6ee7b7}
#settings-btn{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1)}
#settings-btn:hover{background:rgba(255,255,255,.12)}
#settings-panel{position:fixed;bottom:88px;right:14px;z-index:700;width:340px;background:#13132a;border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:20px;box-shadow:0 8px 40px rgba(0,0,0,.6);display:none}
#settings-panel.open{display:block}
.s-label{font-size:.72rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;color:var(--muted);margin-bottom:6px;display:block;margin-top:14px}
.s-label:first-child{margin-top:0}
.s-input{width:100%;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:9px 12px;color:#fff;font-size:.87rem;outline:none;font-family:inherit}
.s-input:focus{border-color:rgba(6,214,160,.6)}
.s-select{width:100%;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:9px 12px;color:#fff;font-size:.87rem;outline:none;font-family:inherit;cursor:pointer}
.s-row{display:flex;gap:8px;margin-top:12px}
.s-save{flex:1;padding:9px;border-radius:8px;border:none;background:#06d6a0;color:#0a1a0a;font-size:.87rem;font-weight:700;cursor:pointer;transition:opacity .2s}
.s-save:hover{opacity:.85}
.s-title{font-weight:800;color:#fff;margin-bottom:2px}
.s-close{float:right;background:none;border:none;color:var(--muted);cursor:pointer;font-size:1.1rem}
#counter{font-size:.74rem;color:rgba(255,255,255,.22);font-weight:600;flex-shrink:0;white-space:nowrap}
#hint{position:fixed;bottom:92px;left:50%;transform:translateX(-50%);color:rgba(255,255,255,.16);font-size:.69rem;letter-spacing:.8px;z-index:300;pointer-events:none;transition:opacity .8s;white-space:nowrap}
#vl{position:absolute;top:0;left:0;height:2px;background:#06d6a0;transition:width .3s linear;z-index:1}
</style>
</head>
<body>

<div id="prog"></div>
<div id="hint">â† â†’ chuyá»ƒn slide Â· V = Ä‘á»c Â· A = AUTO Â· Space = tiáº¿p</div>
<div id="deck"></div>

<div id="q-panel">
  <div id="q-text"></div>
  <div id="q-opts"></div>
  <div id="q-countdown"></div>
  <div class="q-cbar-wrap" id="q-cbar-wrap"><div class="q-cbar-fill" id="q-cbar-fill"></div></div>
  <div id="q-feedback"></div>
  <button id="q-continue">Tiáº¿p tá»¥c <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round"><polyline points="9 6 15 12 9 18"/></svg></button>
</div>

<button id="nav-prev"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round"><polyline points="15 18 9 12 15 6"/></svg></button>
<button id="nav-next"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round"><polyline points="9 6 15 12 9 18"/></svg></button>

<div id="bar">
  <div id="vl"></div>
  <div id="bar-left">
    <button class="b-btn" id="v-play" title="Äá»c thuyáº¿t minh (V)">
      <svg id="ico-play" width="16" height="16" viewBox="0 0 24 24" fill="rgba(255,255,255,.9)"><polygon points="5 3 19 12 5 21 5 3"/></svg>
      <svg id="ico-pause" width="16" height="16" viewBox="0 0 24 24" fill="rgba(255,255,255,.9)" style="display:none"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
    </button>
    <button class="b-btn" id="v-auto">AUTO</button>
  </div>
  <div id="bar-center"><span id="v-script">Nháº¥n â–¶ Ä‘á»ƒ nghe Â· AUTO Ä‘á»ƒ AI tá»± dáº¡y hoÃ n toÃ n</span></div>
  <div id="bar-right">
    <span id="counter"></span>
    <button class="b-btn" id="settings-btn" title="CÃ i Ä‘áº·t giá»ng">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,.48)" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/></svg>
    </button>
  </div>
</div>

<div id="settings-panel">
  <div><span class="s-title">CÃ i Ä‘áº·t giá»ng nÃ³i</span><button class="s-close" id="s-close">âœ•</button></div>
  <div style="display:flex;align-items:center;gap:10px;margin:14px 0;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:9px;padding:12px 14px">
    <div style="width:10px;height:10px;border-radius:50%;background:#22c55e;box-shadow:0 0 8px #22c55e;flex-shrink:0"></div>
    <div>
      <div style="font-weight:700;color:#fff;font-size:.9rem">Ban Mai â€” FPT.AI</div>
      <div style="font-size:.74rem;color:var(--muted);margin-top:2px">Giá»ng ná»¯, HÃ  Ná»™i Â· CÃ i sáºµn</div>
    </div>
  </div>
  <span class="s-label">Tá»‘c Ä‘á»™ Ä‘á»c</span>
  <input class="s-input" id="s-rate" type="range" min="0.6" max="1.4" step="0.05" value="0.9" style="padding:6px 0;cursor:pointer;accent-color:#06d6a0"/>
  <div style="font-size:.77rem;color:var(--muted);margin-top:3px;display:flex;justify-content:space-between">
    <span>Cháº­m</span><span id="s-rate-val" style="color:#06d6a0;font-weight:700">0.9Ã—</span><span>Nhanh</span>
  </div>
  <div class="s-row">
    <button class="s-save" id="s-save">LÆ°u &amp; ÄÃ³ng</button>
    <button class="s-save" id="s-test" style="background:rgba(255,255,255,.11)">Test giá»ng</button>
  </div>
</div>

<script>
const SLIDES = [
{"type":"teach","color":"#06d6a0","narration":"ChÃ o má»«ng báº¡n Ä‘áº¿n Buá»•i 3. Hai buá»•i trÆ°á»›c báº¡n Ä‘Ã£ cÃ³ giao diá»‡n vÃ  logic hoáº¡t Ä‘á»™ng Ä‘áº§y Ä‘á»§. NhÆ°ng cÃ³ má»™t váº¥n Ä‘á» cÃ²n tá»“n táº¡i: reload trang lÃ  máº¥t sáº¡ch dá»¯ liá»‡u. Táº¥t cáº£ task báº¡n vá»«a nháº­p biáº¿n máº¥t nhÆ° chÆ°a bao giá» tá»“n táº¡i. HÃ´m nay chÃºng ta fix Ä‘iá»u Ä‘Ã³ vÄ©nh viá»…n. Sau Buá»•i 3, app cá»§a báº¡n sáº½ nhá»› dá»¯ liá»‡u dÃ¹ táº¯t tab, táº¯t mÃ¡y, hay reload bao nhiÃªu láº§n.","html":"<div class=\"bg-img\" style=\"background-image:url('https://images.unsplash.com/photo-1544197150-b99a580bb7a8?auto=format&fit=crop&w=1600&q=80')\"></div>\n<div class=\"content\"><div class=\"stag\" style=\"color:#6ee7b7;border-color:rgba(6,214,160,.5);background:rgba(6,214,160,.18)\">Buá»•i 3 Â· 2 tiáº¿ng</div>\n<h1 class=\"huge\">App khÃ´ng máº¥t data</h1>\n<div class=\"rule\" style=\"background:#06d6a0\"></div>\n<p class=\"sub\">Reload trang â†’ task biáº¿n máº¥t.<br/><strong>HÃ´m nay fix vÄ©nh viá»…n â€” khÃ´ng cáº§n server.</strong></p></div>"},

{"type":"question","color":"#06d6a0","narration":"CÃ¢u há»i má»Ÿ Ä‘áº§u Ä‘á»ƒ kiá»ƒm tra hiá»ƒu biáº¿t ban Ä‘áº§u. Sau hai buá»•i há»c, báº¡n Ä‘Ã£ hiá»ƒu app hoáº¡t Ä‘á»™ng tháº¿ nÃ o. Váº­y theo báº¡n, táº¡i sao reload trang láº¡i lÃ m máº¥t háº¿t task Ä‘Ã£ nháº­p?","question":"Táº¡i sao reload trang thÃ¬ máº¥t háº¿t task Ä‘Ã£ nháº­p?","options":[{"text":"VÃ¬ app bá»‹ lá»—i â€” cáº§n sá»­a JavaScript","correct":false,"feedback":"KhÃ´ng pháº£i lá»—i. ÄÃ¢y lÃ  hÃ nh vi hoÃ n toÃ n bÃ¬nh thÆ°á»ng vÃ  Ä‘Ãºng theo thiáº¿t káº¿: khi reload, trÃ¬nh duyá»‡t táº£i láº¡i trang tá»« Ä‘áº§u. JavaScript cháº¡y láº¡i, há»™p nhá»› Ä‘Æ°á»£c táº¡o má»›i vÃ  rá»—ng. KhÃ´ng cÃ³ gÃ¬ sai á»Ÿ Ä‘Ã¢y â€” chá»‰ lÃ  chÆ°a cÃ³ cÆ¡ cháº¿ lÆ°u trá»¯ lÃ¢u dÃ i."},{"text":"VÃ¬ dá»¯ liá»‡u task náº±m trong RAM â€” bá»™ nhá»› táº¡m bá»‹ xÃ³a khi trang reload","correct":true,"feedback":"ChÃ­nh xÃ¡c! Danh sÃ¡ch task Ä‘ang sá»‘ng trong biáº¿n JavaScript á»Ÿ RAM. RAM lÃ  bá»™ nhá»› lÃ m viá»‡c táº¡m thá»i â€” táº¯t tab hay reload lÃ  dá»¯ liá»‡u bay theo. Giáº£i phÃ¡p: chuyá»ƒn dá»¯ liá»‡u sang nÆ¡i lÆ°u trá»¯ lÃ¢u dÃ i hÆ¡n, ngay trong trÃ¬nh duyá»‡t."},{"text":"VÃ¬ CSS khÃ´ng lÆ°u Ä‘Æ°á»£c dá»¯ liá»‡u text","correct":false,"feedback":"CSS khÃ´ng liÃªn quan Ä‘áº¿n lÆ°u trá»¯ dá»¯ liá»‡u. CSS chá»‰ quyáº¿t Ä‘á»‹nh giao diá»‡n trÃ´ng nhÆ° tháº¿ nÃ o. Váº¥n Ä‘á» á»Ÿ Ä‘Ã¢y lÃ  JavaScript lÆ°u dá»¯ liá»‡u trong RAM, khÃ´ng pháº£i váº¥n Ä‘á» cá»§a CSS."},{"text":"VÃ¬ cáº§n káº¿t ná»‘i internet má»›i lÆ°u Ä‘Æ°á»£c","correct":false,"feedback":"KhÃ´ng cáº§n internet Ä‘á»ƒ lÆ°u dá»¯ liá»‡u cá»¥c bá»™. TrÃ¬nh duyá»‡t cÃ³ kho lÆ°u riÃªng hoáº¡t Ä‘á»™ng offline hoÃ n toÃ n. ÄÃ¢y chÃ­nh lÃ  thá»© chÃºng ta sáº½ dÃ¹ng hÃ´m nay."}]},

{"type":"teach","color":"#06d6a0","narration":"ÄÃ¢y lÃ  MÃ´ hÃ¬nh tÆ° duy sá»‘ 3: RAM versus Kho lÆ°u. HÃ£y tÆ°á»Ÿng tÆ°á»£ng bá»™ nhá»› mÃ¡y tÃ­nh nhÆ° 2 loáº¡i: RAM lÃ  bÃ n lÃ m viá»‡c â€” nhanh, tiá»‡n, nhÆ°ng khi táº¯t mÃ¡y thÃ¬ má»i thá»© trÃªn bÃ n Ä‘á»u bá»‹ dá»n sáº¡ch. Kho lÆ°u lÃ  ngÄƒn kÃ©o trong tá»§ â€” cháº­m hÆ¡n má»™t chÃºt, nhÆ°ng Ä‘Ã³ng cá»­a má»Ÿ ra láº¡i váº«n cÃ²n Ä‘Ã³. Dá»¯ liá»‡u task hiá»‡n táº¡i Ä‘ang náº±m trÃªn bÃ n lÃ m viá»‡c. HÃ´m nay chÃºng ta chuyá»ƒn nÃ³ vÃ o ngÄƒn kÃ©o.","html":"<div class=\"bg-color\" style=\"background:#031a0f\"></div>\n<div class=\"content\"><div class=\"stag\" style=\"color:#6ee7b7;border-color:rgba(6,214,160,.5);background:rgba(6,214,160,.18)\">MÃ´ hÃ¬nh tÆ° duy #3</div>\n<h2 class=\"big\">RAM vs Kho lÆ°u</h2>\n<div class=\"rule\" style=\"background:#06d6a0\"></div>\n<div style=\"display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-top:32px;width:100%;max-width:820px\">\n  <div style=\"background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.25);border-radius:16px;padding:28px 24px;text-align:center\">\n    <div style=\"font-size:2.4rem;margin-bottom:12px\">ğŸ—‚ï¸</div>\n    <div style=\"font-weight:900;color:#f87171;font-size:1.1rem;margin-bottom:10px\">RAM â€” BÃ n lÃ m viá»‡c</div>\n    <div style=\"font-size:.85rem;color:rgba(255,255,255,.6);line-height:1.8\">\n      Nhanh vÃ  tiá»‡n<br/>\n      Dá»¯ liá»‡u app hiá»‡n táº¡i<br/>\n      <span style=\"color:#f87171;font-weight:700\">Táº¯t tab / Reload â†’ máº¥t sáº¡ch</span>\n    </div>\n  </div>\n  <div style=\"background:rgba(6,214,160,.08);border:2px solid rgba(6,214,160,.4);border-radius:16px;padding:28px 24px;text-align:center\">\n    <div style=\"font-size:2.4rem;margin-bottom:12px\">ğŸ—„ï¸</div>\n    <div style=\"font-weight:900;color:#6ee7b7;font-size:1.1rem;margin-bottom:10px\">Kho lÆ°u â€” NgÄƒn kÃ©o</div>\n    <div style=\"font-size:.85rem;color:rgba(255,255,255,.6);line-height:1.8\">\n      Tá»“n táº¡i lÃ¢u dÃ i<br/>\n      Ngay trong trÃ¬nh duyá»‡t<br/>\n      <span style=\"color:#34d399;font-weight:700\">Táº¯t mÃ¡y váº«n cÃ²n âœ“</span>\n    </div>\n  </div>\n</div>\n<p class=\"sub\" style=\"margin-top:24px\">HÃ´m nay chuyá»ƒn dá»¯ liá»‡u task tá»« bÃ n lÃ m viá»‡c sang ngÄƒn kÃ©o</p></div>"},

{"type":"teach","color":"#06d6a0","narration":"Kho lÆ°u cá»§a trÃ¬nh duyá»‡t lÃ  gÃ¬? Má»—i trÃ¬nh duyá»‡t â€” Chrome, Firefox, Safari â€” Ä‘á»u cÃ³ má»™t ngÄƒn kÃ©o nhá» dÃ nh riÃªng cho tá»«ng website. NÃ³ náº±m hoÃ n toÃ n trÃªn mÃ¡y tÃ­nh cá»§a ngÆ°á»i dÃ¹ng, khÃ´ng cáº§n server, khÃ´ng cáº§n internet. Báº¡n lÆ°u dá»¯ liá»‡u vÃ o Ä‘Ã³, Ä‘Ã³ng mÃ¡y, má»Ÿ láº¡i trÃ¬nh duyá»‡t, dá»¯ liá»‡u váº«n cÃ²n nguyÃªn. NgÄƒn kÃ©o cá»§a trang nÃ o chá»‰ trang Ä‘Ã³ má»›i Ä‘á»c Ä‘Æ°á»£c. Facebook khÃ´ng Ä‘á»c Ä‘Æ°á»£c dá»¯ liá»‡u app cá»§a báº¡n vÃ  ngÆ°á»£c láº¡i.","html":"<div class=\"bg-color\" style=\"background:linear-gradient(135deg,#020f07,#031a0f)\"></div>\n<div class=\"content\"><h2 class=\"big\">Kho lÆ°u cá»§a trÃ¬nh duyá»‡t</h2>\n<div class=\"rule\" style=\"background:#06d6a0\"></div>\n<div style=\"display:flex;flex-direction:column;gap:12px;margin-top:28px;max-width:720px;width:100%\">\n  <div style=\"display:flex;align-items:center;gap:16px;background:rgba(6,214,160,.07);border:1px solid rgba(6,214,160,.2);border-radius:12px;padding:16px 20px\">\n    <div style=\"font-size:1.8rem;flex-shrink:0\">ğŸ </div>\n    <div style=\"text-align:left\"><div style=\"font-weight:700;color:#34d399\">Sá»‘ng trÃªn mÃ¡y ngÆ°á»i dÃ¹ng</div><div style=\"font-size:.85rem;color:rgba(255,255,255,.55);margin-top:3px\">KhÃ´ng cáº§n server, khÃ´ng cáº§n internet, hoáº¡t Ä‘á»™ng offline hoÃ n toÃ n</div></div>\n  </div>\n  <div style=\"display:flex;align-items:center;gap:16px;background:rgba(6,214,160,.07);border:1px solid rgba(6,214,160,.2);border-radius:12px;padding:16px 20px\">\n    <div style=\"font-size:1.8rem;flex-shrink:0\">ğŸ”’</div>\n    <div style=\"text-align:left\"><div style=\"font-weight:700;color:#34d399\">Má»—i trang cÃ³ ngÄƒn kÃ©o riÃªng</div><div style=\"font-size:.85rem;color:rgba(255,255,255,.55);margin-top:3px\">App cá»§a báº¡n chá»‰ Ä‘á»c Ä‘Æ°á»£c dá»¯ liá»‡u cá»§a chÃ­nh nÃ³ â€” trang khÃ¡c khÃ´ng can thiá»‡p</div></div>\n  </div>\n  <div style=\"display:flex;align-items:center;gap:16px;background:rgba(6,214,160,.07);border:1px solid rgba(6,214,160,.2);border-radius:12px;padding:16px 20px\">\n    <div style=\"font-size:1.8rem;flex-shrink:0\">â™¾ï¸</div>\n    <div style=\"text-align:left\"><div style=\"font-weight:700;color:#34d399\">Tá»“n táº¡i cho Ä‘áº¿n khi báº¡n xÃ³a</div><div style=\"font-size:.85rem;color:rgba(255,255,255,.55);margin-top:3px\">Táº¯t mÃ¡y, reload, Ä‘Ã³ng tab â€” dá»¯ liá»‡u váº«n cÃ²n. Chá»‰ máº¥t khi xÃ³a cache trÃ¬nh duyá»‡t hoáº·c báº¡n tá»± xÃ³a</div></div>\n  </div>\n</div></div>"},

{"type":"question","color":"#06d6a0","narration":"HÃ£y kiá»ƒm tra hiá»ƒu biáº¿t vá» kho lÆ°u trÃ¬nh duyá»‡t. Kho lÆ°u nÃ y lÆ°u Ä‘Æ°á»£c gÃ¬ vÃ  khÃ´ng lÆ°u Ä‘Æ°á»£c gÃ¬?","question":"Kho lÆ°u cá»§a trÃ¬nh duyá»‡t phÃ¹ há»£p nháº¥t Ä‘á»ƒ lÆ°u loáº¡i dá»¯ liá»‡u nÃ o?","options":[{"text":"áº¢nh náº·ng 50MB, video, Ã¢m thanh","correct":false,"feedback":"Kho lÆ°u trÃ¬nh duyá»‡t cÃ³ giá»›i háº¡n dung lÆ°á»£ng (thÆ°á»ng 5-10MB) vÃ  chá»‰ lÆ°u Ä‘Æ°á»£c dá»¯ liá»‡u dáº¡ng vÄƒn báº£n. áº¢nh náº·ng, video cáº§n giáº£i phÃ¡p khÃ¡c nhÆ° lÆ°u trÃªn server hoáº·c dá»‹ch vá»¥ Ä‘Ã¡m mÃ¢y."},{"text":"Danh sÃ¡ch task, cÃ i Ä‘áº·t ngÆ°á»i dÃ¹ng, tráº¡ng thÃ¡i app","correct":true,"feedback":"ChÃ­nh xÃ¡c! Kho lÆ°u trÃ¬nh duyá»‡t hoÃ n háº£o cho dá»¯ liá»‡u nhá» dáº¡ng vÄƒn báº£n: danh sÃ¡ch, cÃ i Ä‘áº·t, tráº¡ng thÃ¡i. ÄÃ¢y chÃ­nh xÃ¡c lÃ  loáº¡i dá»¯ liá»‡u cá»§a á»¨ng dá»¥ng Quáº£n LÃ½ CÃ´ng Viá»‡c. Nhá», quan trá»ng, cáº§n tá»“n táº¡i lÃ¢u dÃ i."},{"text":"Dá»¯ liá»‡u cáº§n chia sáº» giá»¯a nhiá»u ngÆ°á»i dÃ¹ng khÃ¡c nhau","correct":false,"feedback":"Kho lÆ°u trÃ¬nh duyá»‡t lÃ  cá»¥c bá»™ â€” chá»‰ mÃ¡y Ä‘Ã³, trÃ¬nh duyá»‡t Ä‘Ã³ má»›i Ä‘á»c Ä‘Æ°á»£c. Náº¿u cáº§n A nhÃ¬n tháº¥y task cá»§a B, pháº£i dÃ¹ng server. Kho lÆ°u trÃ¬nh duyá»‡t lÃ  giáº£i phÃ¡p cÃ¡ nhÃ¢n, khÃ´ng pháº£i chia sáº»."},{"text":"Máº­t kháº©u vÃ  thÃ´ng tin thanh toÃ¡n","correct":false,"feedback":"Tuyá»‡t Ä‘á»‘i khÃ´ng! Kho lÆ°u trÃ¬nh duyá»‡t khÃ´ng Ä‘Æ°á»£c mÃ£ hÃ³a an toÃ n. JavaScript cÃ³ thá»ƒ Ä‘á»c dá»¯ liá»‡u Ä‘Ã³. Máº­t kháº©u vÃ  thÃ´ng tin nháº¡y cáº£m pháº£i lÆ°u server vá»›i mÃ£ hÃ³a Ä‘Ãºng chuáº©n."}]},

{"type":"teach","color":"#06d6a0","narration":"Vá»›i kho lÆ°u trÃ¬nh duyá»‡t, báº¡n chá»‰ cáº§n 2 thao tÃ¡c cÆ¡ báº£n. Thao tÃ¡c 1 lÃ  Ghi vÃ o: khi dá»¯ liá»‡u thay Ä‘á»•i, ghi phiÃªn báº£n má»›i vÃ o kho lÆ°u ngay láº­p tá»©c. Thao tÃ¡c 2 lÃ  Äá»c ra: khi trang má»Ÿ láº§n Ä‘áº§u, Ä‘á»c dá»¯ liá»‡u tá»« kho lÆ°u Ä‘á»ƒ khá»Ÿi Ä‘á»™ng app vá»›i dá»¯ liá»‡u cÅ©. Báº¡n khÃ´ng cáº§n nhá»› cÃº phÃ¡p ngÃ´n ngá»¯ â€” Ä‘Ã³ lÃ  viá»‡c cá»§a AI. Báº¡n chá»‰ cáº§n hiá»ƒu 2 thao tÃ¡c nÃ y xáº£y ra khi nÃ o vÃ  táº¡i sao.","html":"<div class=\"bg-color\" style=\"background:#020f07\"></div>\n<div class=\"content\"><div class=\"stag\" style=\"color:#6ee7b7;border-color:rgba(6,214,160,.5);background:rgba(6,214,160,.18)\">2 thao tÃ¡c cÆ¡ báº£n</div>\n<h2 class=\"big\">Ghi vÃ o Â· Äá»c ra</h2>\n<div class=\"rule\" style=\"background:#06d6a0\"></div>\n<div style=\"display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:32px;width:100%;max-width:800px\">\n  <div style=\"background:rgba(247,127,0,.08);border:1px solid rgba(247,127,0,.3);border-radius:16px;padding:28px 24px;text-align:center\">\n    <div style=\"font-size:2.2rem;margin-bottom:10px\">âœï¸</div>\n    <div style=\"font-weight:900;color:#fdba74;font-size:1.05rem;margin-bottom:10px\">Ghi vÃ o kho lÆ°u</div>\n    <div style=\"font-size:.85rem;color:rgba(255,255,255,.6);line-height:1.8;text-align:left\">\n      Xáº£y ra sau má»—i thay Ä‘á»•i:<br/>\n      &ndash; Sau khi thÃªm task<br/>\n      &ndash; Sau khi tick task<br/>\n      &ndash; Sau khi xÃ³a task\n    </div>\n  </div>\n  <div style=\"background:rgba(108,99,255,.1);border:1px solid rgba(108,99,255,.35);border-radius:16px;padding:28px 24px;text-align:center\">\n    <div style=\"font-size:2.2rem;margin-bottom:10px\">ğŸ“–</div>\n    <div style=\"font-weight:900;color:#a5b4fc;font-size:1.05rem;margin-bottom:10px\">Äá»c ra tá»« kho lÆ°u</div>\n    <div style=\"font-size:.85rem;color:rgba(255,255,255,.6);line-height:1.8;text-align:left\">\n      Xáº£y ra 1 láº§n duy nháº¥t:<br/>\n      &ndash; Ngay khi trang má»Ÿ<br/>\n      &ndash; TrÆ°á»›c khi váº½ giao diá»‡n<br/>\n      &ndash; Náº¿u trá»‘ng â†’ danh sÃ¡ch rá»—ng\n    </div>\n  </div>\n</div></div>"},

{"type":"question","color":"#06d6a0","narration":"CÃ¢u há»i quan trá»ng vá» thá»i Ä‘iá»ƒm. Trong app, cáº§n ghi vÃ o kho lÆ°u lÃºc nÃ o, vÃ  Ä‘á»c ra lÃºc nÃ o?","question":"ÄÃ¢u lÃ  thá»© tá»± Ä‘Ãºng khi tÃ­ch há»£p kho lÆ°u vÃ o á»¨ng dá»¥ng Quáº£n LÃ½ CÃ´ng Viá»‡c?","options":[{"text":"Äá»c tá»« kho lÆ°u sau khi ngÆ°á»i dÃ¹ng báº¥m nÃºt Add","correct":false,"feedback":"Äá»c tá»« kho lÆ°u pháº£i xáº£y ra ngay khi trang má»Ÿ, khÃ´ng pháº£i khi Add. Náº¿u Ä‘á»c sau khi Add, báº¡n sáº½ máº¥t táº¥t cáº£ task Ä‘Ã£ load trÆ°á»›c Ä‘Ã³ vÃ  thay báº±ng dá»¯ liá»‡u cÅ© tá»« kho lÆ°u."},{"text":"Äá»c tá»« kho lÆ°u khi trang má»Ÿ Â· Ghi vÃ o kho lÆ°u sau má»—i thay Ä‘á»•i","correct":true,"feedback":"ChÃ­nh xÃ¡c! ÄÃ¢y lÃ  vÃ²ng láº·p Ä‘Ãºng: má»Ÿ trang â†’ Ä‘á»c dá»¯ liá»‡u cÅ© â†’ hiá»ƒn thá»‹. NgÆ°á»i dÃ¹ng thay Ä‘á»•i gÃ¬ â†’ cáº­p nháº­t há»™p nhá»› â†’ ghi ngay vÃ o kho lÆ°u â†’ váº½ láº¡i giao diá»‡n. Hai thao tÃ¡c xáº£y ra á»Ÿ hai thá»i Ä‘iá»ƒm hoÃ n toÃ n khÃ¡c nhau."},{"text":"Ghi vÃ o kho lÆ°u má»—i 30 giÃ¢y tá»± Ä‘á»™ng","correct":false,"feedback":"LÆ°u tá»± Ä‘á»™ng theo thá»i gian khiáº¿n báº¡n cÃ³ thá»ƒ máº¥t dá»¯ liá»‡u 30 giÃ¢y gáº§n nháº¥t náº¿u tab Ä‘Ã³ng báº¥t ngá». LÆ°u ngay sau má»—i thay Ä‘á»•i lÃ  cÃ¡ch tá»‘t nháº¥t â€” khÃ´ng máº¥t dá»¯ liá»‡u dÃ¹ Ä‘Ã³ng tab giá»¯a chá»«ng."},{"text":"Ghi vÃ o kho lÆ°u khi ngÆ°á»i dÃ¹ng báº¥m nÃºt LÆ°u riÃªng","correct":false,"feedback":"ThÃªm nÃºt LÆ°u táº¡o thÃªm bÆ°á»›c ngÆ°á»i dÃ¹ng pháº£i nhá»›. App tá»‘t tá»± Ä‘á»™ng lÆ°u sau má»—i thay Ä‘á»•i vÃ  ngÆ°á»i dÃ¹ng khÃ´ng cáº§n nghÄ© Ä‘áº¿n viá»‡c lÆ°u. ÄÃ¢y lÃ  chuáº©n UX cá»§a má»i app hiá»‡n Ä‘áº¡i."}]},

{"type":"teach","color":"#06d6a0","narration":"Buá»•i nÃ y nÃ¢ng ká»¹ nÄƒng ra lá»‡nh AI lÃªn yáº¿u tá»‘ thá»© 7: mÃ´ táº£ luá»“ng dá»¯ liá»‡u. Luá»“ng dá»¯ liá»‡u nghÄ©a lÃ  báº¡n mÃ´ táº£ cho AI biáº¿t dá»¯ liá»‡u di chuyá»ƒn tháº¿ nÃ o trong suá»‘t vÃ²ng Ä‘á»i cá»§a app: lÃºc nÃ o Ä‘á»c tá»« kho lÆ°u, lÃºc nÃ o ghi vÃ o, lÃºc nÃ o xÃ³a. ÄÃ¢y lÃ  lá»›p mÃ´ táº£ sÃ¢u hÆ¡n mÃ´ táº£ hÃ nh vi á»Ÿ Buá»•i 2. MÃ´ táº£ hÃ nh vi nÃ³i vá» tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng. MÃ´ táº£ luá»“ng dá»¯ liá»‡u nÃ³i vá» cÃ¡ch dá»¯ liá»‡u tá»“n táº¡i vÃ  di chuyá»ƒn.","html":"<div class=\"bg-color\" style=\"background:linear-gradient(135deg,#020f07,#0a0820)\"></div>\n<div class=\"content\"><div class=\"stag\" style=\"color:#d8b4fe;border-color:rgba(168,85,247,.4);background:rgba(168,85,247,.12)\">Ká»¹ nÄƒng ra lá»‡nh AI â€” Buá»•i 3</div>\n<h2 class=\"big\">Yáº¿u tá»‘ thá»© 7: MÃ´ táº£ luá»“ng dá»¯ liá»‡u</h2>\n<div class=\"rule\" style=\"background:#a855f7\"></div>\n<div style=\"display:flex;flex-direction:column;gap:10px;margin-top:28px;max-width:740px;width:100%\">\n  <div style=\"display:flex;align-items:flex-start;gap:14px;background:rgba(108,99,255,.08);border:1px solid rgba(108,99,255,.2);border-radius:11px;padding:14px 18px\">\n    <div style=\"font-size:.7rem;font-weight:700;letter-spacing:1px;background:#6c63ff;color:#fff;padding:3px 8px;border-radius:4px;flex-shrink:0;margin-top:2px\">B1</div>\n    <div style=\"font-size:.88rem;color:rgba(255,255,255,.7);text-align:left\"><strong style=\"color:#a5b4fc\">Khi trang má»Ÿ:</strong> Ä‘á»c tá»« kho lÆ°u trÃ¬nh duyá»‡t, náº¿u cÃ³ dá»¯ liá»‡u thÃ¬ dÃ¹ng, náº¿u khÃ´ng thÃ¬ báº¯t Ä‘áº§u vá»›i danh sÃ¡ch rá»—ng</div>\n  </div>\n  <div style=\"display:flex;align-items:flex-start;gap:14px;background:rgba(247,127,0,.07);border:1px solid rgba(247,127,0,.2);border-radius:11px;padding:14px 18px\">\n    <div style=\"font-size:.7rem;font-weight:700;letter-spacing:1px;background:#f77f00;color:#fff;padding:3px 8px;border-radius:4px;flex-shrink:0;margin-top:2px\">B2</div>\n    <div style=\"font-size:.88rem;color:rgba(255,255,255,.7);text-align:left\"><strong style=\"color:#fdba74\">Sau má»—i thay Ä‘á»•i</strong> (thÃªm, tick, xÃ³a): cáº­p nháº­t há»™p nhá»›, ghi ngay vÃ o kho lÆ°u, rá»“i váº½ láº¡i giao diá»‡n</div>\n  </div>\n  <div style=\"display:flex;align-items:flex-start;gap:14px;background:rgba(6,214,160,.07);border:1px solid rgba(6,214,160,.2);border-radius:11px;padding:14px 18px\">\n    <div style=\"font-size:.7rem;font-weight:700;letter-spacing:1px;background:#06d6a0;color:#0a1a0a;padding:3px 8px;border-radius:4px;flex-shrink:0;margin-top:2px\">B3</div>\n    <div style=\"font-size:.88rem;color:rgba(255,255,255,.7);text-align:left\"><strong style=\"color:#34d399\">Kiá»ƒm tra:</strong> reload trang â†’ danh sÃ¡ch pháº£i hiá»‡n ra Ä‘Ãºng nhÆ° trÆ°á»›c khi reload</div>\n  </div>\n</div></div>"},

{"type":"teach","color":"#06d6a0","narration":"ÄÃ¢y lÃ  yÃªu cáº§u máº«u Ä‘áº§y Ä‘á»§ Ä‘á»ƒ thÃªm kho lÆ°u vÃ o app. YÃªu cáº§u bao gá»“m 3 pháº§n: bá»‘i cáº£nh app Ä‘ang cÃ³, mÃ´ táº£ luá»“ng Ä‘á»c khi má»Ÿ trang, vÃ  mÃ´ táº£ luá»“ng ghi sau má»—i thay Ä‘á»•i. ChÃº Ã½ cÃ¡ch yÃªu cáº§u khÃ´ng Ä‘á» cáº­p Ä‘áº¿n báº¥t ká»³ tÃªn hÃ m hay cÃº phÃ¡p nÃ o â€” chá»‰ mÃ´ táº£ hÃ nh vi vÃ  luá»“ng dá»¯ liá»‡u. AI sáº½ tá»± xá»­ lÃ½ pháº§n ká»¹ thuáº­t.","html":"<div class=\"bg-color\" style=\"background:#020f07\"></div>\n<div class=\"content\"><h2 class=\"big\">YÃªu cáº§u máº«u â€” thÃªm kho lÆ°u</h2>\n<div class=\"rule\" style=\"background:#06d6a0\"></div>\n<div style=\"background:rgba(108,99,255,.1);border:1px solid rgba(108,99,255,.3);border-radius:12px;padding:22px 26px;max-width:820px;width:100%;text-align:left;font-size:.87rem;line-height:1.85;color:#c4b5fd;margin-top:20px\">\n  <div style=\"font-size:.65rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:#818cf8;margin-bottom:10px\">YÃªu cáº§u máº«u â€” copy vÃ  tÃ¹y chá»‰nh</div>\n  TÃ´i cÃ³ app á»¨ng dá»¥ng Quáº£n LÃ½ CÃ´ng Viá»‡c Ä‘ang hoáº¡t Ä‘á»™ng (thÃªm, tick, xÃ³a). Bá»• sung kho lÆ°u trÃ¬nh duyá»‡t Ä‘á»ƒ dá»¯ liá»‡u tá»“n táº¡i sau reload:\n  <br/><br/>\n  <span style=\"color:#34d399\">(1) Khi trang má»Ÿ:</span> Ä‘á»c danh sÃ¡ch task tá»« kho lÆ°u trÃ¬nh duyá»‡t. Náº¿u cÃ³ dá»¯ liá»‡u thÃ¬ dÃ¹ng lÃ m danh sÃ¡ch ban Ä‘áº§u. Náº¿u khÃ´ng cÃ³ thÃ¬ báº¯t Ä‘áº§u vá»›i danh sÃ¡ch rá»—ng. Sau Ä‘Ã³ váº½ giao diá»‡n.\n  <br/><br/>\n  <span style=\"color:#fdba74\">(2) Sau má»—i thay Ä‘á»•i</span> (thÃªm task, tick, xÃ³a): ghi toÃ n bá»™ danh sÃ¡ch task hiá»‡n táº¡i vÃ o kho lÆ°u ngay láº­p tá»©c, trÆ°á»›c khi váº½ láº¡i giao diá»‡n.\n  <br/><br/>\n  Giá»¯ nguyÃªn toÃ n bá»™ chá»©c nÄƒng Ä‘Ã£ cÃ³. Chá»‰ thÃªm 2 Ä‘iá»ƒm lÆ°u/Ä‘á»c nÃ y.\n</div></div>"},

{"type":"question","color":"#06d6a0","narration":"Kiá»ƒm tra kháº£ nÄƒng viáº¿t yÃªu cáº§u. Báº¡n cáº§n AI thÃªm kho lÆ°u vÃ o app Ä‘ang cÃ³. YÃªu cáº§u nÃ o sau Ä‘Ã¢y sáº½ cho káº¿t quáº£ Ä‘Ãºng vÃ  Ä‘áº§y Ä‘á»§ nháº¥t?","question":"YÃªu cáº§u nÃ o sáº½ giÃºp AI tÃ­ch há»£p kho lÆ°u Ä‘Ãºng vÃ o app á»¨ng dá»¥ng Quáº£n LÃ½ CÃ´ng Viá»‡c?","options":[{"text":"\"ThÃªm localStorage vÃ o app cá»§a tÃ´i\"","correct":false,"feedback":"QuÃ¡ ngáº¯n vÃ  thiáº¿u ngá»¯ cáº£nh. AI khÃ´ng biáº¿t báº¡n muá»‘n Ä‘á»c lÃºc nÃ o, ghi lÃºc nÃ o, xá»­ lÃ½ dá»¯ liá»‡u trá»‘ng tháº¿ nÃ o. Káº¿t quáº£ cÃ³ thá»ƒ thÃªm localStorage nhÆ°ng sai vá»‹ trÃ­ hoáº·c thiáº¿u má»™t ná»­a chá»©c nÄƒng."},{"text":"\"Khi trang má»Ÿ Ä‘á»c task tá»« kho lÆ°u, sau khi thÃªm/tick/xÃ³a ghi ngay vÃ o kho lÆ°u, náº¿u kho trá»‘ng thÃ¬ báº¯t Ä‘áº§u rá»—ng â€” giá»¯ nguyÃªn chá»©c nÄƒng Ä‘Ã£ cÃ³\"","correct":true,"feedback":"HoÃ n háº£o! YÃªu cáº§u nÃ y cÃ³ Ä‘á»§ 4 yáº¿u tá»‘: (1) Khi nÃ o Ä‘á»c. (2) Khi nÃ o ghi â€” vá»›i liá»‡t kÃª Ä‘á»§ 3 thao tÃ¡c. (3) Xá»­ lÃ½ trÆ°á»ng há»£p kho trá»‘ng. (4) KhÃ´ng lÃ m há»ng chá»©c nÄƒng cÅ©. AI cÃ³ Ä‘á»§ thÃ´ng tin Ä‘á»ƒ tÃ­ch há»£p Ä‘Ãºng ngay láº§n Ä‘áº§u."},{"text":"\"Dá»¯ liá»‡u khÃ´ng Ä‘Æ°á»£c máº¥t khi reload trang\"","correct":false,"feedback":"MÃ´ táº£ mong muá»‘n Ä‘áº§u ra nhÆ°ng khÃ´ng mÃ´ táº£ cÃ¡ch Ä‘áº¡t Ä‘Æ°á»£c. AI sáº½ cÃ³ thá»ƒ Ä‘Æ°a ra nhiá»u giáº£i phÃ¡p khÃ¡c nhau (localStorage, sessionStorage, cookie...) vÃ  khÃ´ng biáº¿t báº¡n muá»‘n cÃ¡i nÃ o. HÃ£y cá»¥ thá»ƒ vá» giáº£i phÃ¡p báº¡n muá»‘n dÃ¹ng."},{"text":"\"Sá»­ dá»¥ng localStorage.setItem vÃ  getItem Ä‘á»ƒ lÆ°u dá»¯ liá»‡u\"","correct":false,"feedback":"ÄÃ¢y lÃ  ngÃ´n ngá»¯ ká»¹ thuáº­t â€” khÃ´ng cáº§n thiáº¿t. HÆ¡n ná»¯a, chá»‰ Ä‘á» cáº­p cÃº phÃ¡p mÃ  khÃ´ng mÃ´ táº£ luá»“ng: khi nÃ o set, khi nÃ o get, xá»­ lÃ½ dá»¯ liá»‡u trá»‘ng tháº¿ nÃ o. MÃ´ táº£ hÃ nh vi tá»‘t hÆ¡n lÃ  mÃ´ táº£ cÃº phÃ¡p."}]},

{"type":"practice","color":"#06d6a0","narration":"Äáº¿n giá» thá»±c hÃ nh. Má»Ÿ file index.html Ä‘Ã£ lÃ m tá»« Buá»•i 2 â€” app Ä‘ang cÃ³ 3 chá»©c nÄƒng thÃªm, tick, xÃ³a. Gá»­i yÃªu cáº§u máº«u vá»«a há»c cho AI. Sau khi nháº­n code, paste vÃ o file vÃ  lÆ°u. BÆ°á»›c kiá»ƒm tra quan trá»ng: thÃªm 3 task, rá»“i reload trang. Náº¿u 3 task váº«n cÃ²n lÃ  kho lÆ°u hoáº¡t Ä‘á»™ng. Sau Ä‘Ã³ thá»­ Ä‘Ã³ng tab, má»Ÿ láº¡i URL â€” task váº«n pháº£i cÃ²n.","html":"<div class=\"bg-color\" style=\"background:linear-gradient(135deg,#020f07,#031a10)\"></div>\n<div class=\"content\"><div class=\"stag\" style=\"background:rgba(6,214,160,.12);color:#34d399;border-color:rgba(6,214,160,.3)\">Thá»±c hÃ nh</div>\n<h2 class=\"big\" style=\"color:#34d399\">ThÃªm kho lÆ°u vÃ o app</h2>\n<div class=\"rule\" style=\"background:#06d6a0\"></div>\n<div style=\"display:flex;flex-direction:column;gap:10px;max-width:760px;width:100%;margin-top:24px\">\n  <div style=\"display:flex;gap:12px;align-items:flex-start;background:rgba(255,255,255,.04);border-radius:10px;padding:12px 16px;font-size:.9rem;color:rgba(255,255,255,.75)\">\n    <div style=\"width:26px;height:26px;border-radius:7px;background:#06d6a0;color:#0a1a0a;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:.8rem;flex-shrink:0\">1</div>\n    Gá»­i yÃªu cáº§u máº«u (slide trÆ°á»›c) cho AI â€” nháº­n code JavaScript bá»• sung\n  </div>\n  <div style=\"display:flex;gap:12px;align-items:flex-start;background:rgba(255,255,255,.04);border-radius:10px;padding:12px 16px;font-size:.9rem;color:rgba(255,255,255,.75)\">\n    <div style=\"width:26px;height:26px;border-radius:7px;background:#06d6a0;color:#0a1a0a;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:.8rem;flex-shrink:0\">2</div>\n    Paste vÃ o file index.html Â· LÆ°u Ctrl+S Â· TrÃ¬nh duyá»‡t tá»± reload\n  </div>\n  <div style=\"display:flex;gap:12px;align-items:flex-start;background:rgba(6,214,160,.07);border:1px solid rgba(6,214,160,.2);border-radius:10px;padding:12px 16px;font-size:.9rem;color:rgba(255,255,255,.75)\">\n    <div style=\"width:26px;height:26px;border-radius:7px;background:#06d6a0;color:#0a1a0a;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:.8rem;flex-shrink:0\">3</div>\n    <div><strong style=\"color:#34d399\">Kiá»ƒm tra vÃ²ng 1:</strong> ThÃªm 3 task â†’ Reload trang â†’ 3 task váº«n cÃ²n âœ“</div>\n  </div>\n  <div style=\"display:flex;gap:12px;align-items:flex-start;background:rgba(6,214,160,.07);border:1px solid rgba(6,214,160,.2);border-radius:10px;padding:12px 16px;font-size:.9rem;color:rgba(255,255,255,.75)\">\n    <div style=\"width:26px;height:26px;border-radius:7px;background:#06d6a0;color:#0a1a0a;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:.8rem;flex-shrink:0\">4</div>\n    <div><strong style=\"color:#34d399\">Kiá»ƒm tra vÃ²ng 2:</strong> ÄÃ³ng tab hoÃ n toÃ n â†’ Má»Ÿ láº¡i â†’ Task váº«n cÃ²n âœ“</div>\n  </div>\n</div></div>"},

{"type":"teach","color":"#06d6a0","narration":"CÃ³ má»™t váº¥n Ä‘á» thÆ°á»ng gáº·p khi má»›i tÃ­ch há»£p kho lÆ°u: dá»¯ liá»‡u bá»‹ lÆ°u hoáº·c Ä‘á»c sai Ä‘á»‹nh dáº¡ng. Kho lÆ°u trÃ¬nh duyá»‡t chá»‰ lÆ°u Ä‘Æ°á»£c chuá»—i vÄƒn báº£n thuáº§n, khÃ´ng lÆ°u Ä‘Æ°á»£c danh sÃ¡ch trá»±c tiáº¿p. VÃ¬ váº­y danh sÃ¡ch task pháº£i Ä‘Æ°á»£c chuyá»ƒn sang chuá»—i vÄƒn báº£n trÆ°á»›c khi ghi, vÃ  pháº£i chuyá»ƒn ngÆ°á»£c láº¡i thÃ nh danh sÃ¡ch khi Ä‘á»c ra. Náº¿u AI quÃªn bÆ°á»›c nÃ y, dá»¯ liá»‡u Ä‘á»c ra sáº½ sai. Dáº¥u hiá»‡u nháº­n biáº¿t: task xuáº¥t hiá»‡n nhÆ°ng khÃ´ng tick Ä‘Æ°á»£c, hoáº·c reload ra chá»¯ láº¡ thay vÃ¬ task.","html":"<div class=\"bg-color\" style=\"background:#020f07\"></div>\n<div class=\"content\"><div class=\"stag\" style=\"color:#fcd34d;border-color:rgba(255,209,102,.4);background:rgba(255,209,102,.1)\">Váº¥n Ä‘á» thÆ°á»ng gáº·p</div>\n<h2 class=\"big\">Dá»¯ liá»‡u lÆ°u Ä‘Ãºng â€” Äá»c ra Ä‘Ãºng Ä‘á»‹nh dáº¡ng</h2>\n<div class=\"rule\" style=\"background:#fcd34d\"></div>\n<div class=\"compare\" style=\"margin-top:28px\">\n  <div class=\"compare-box\" style=\"background:rgba(239,68,68,.07);border:1px solid rgba(239,68,68,.25)\">\n    <div class=\"compare-label\" style=\"color:#f87171\">Dáº¥u hiá»‡u bá»‹ lá»—i Ä‘á»‹nh dáº¡ng</div>\n    <div class=\"compare-text\">\n      &ndash; Reload xong task hiá»‡n ra chá»¯ láº¡: <span style=\"color:#f87171;font-family:monospace\">[object Object]</span><br/>\n      &ndash; Tick task khÃ´ng hoáº¡t Ä‘á»™ng sau reload<br/>\n      &ndash; Danh sÃ¡ch bá»‹ nhÃ¢n Ä‘Ã´i má»—i láº§n reload<br/>\n      &ndash; XÃ³a task nhÆ°ng task váº«n hiá»‡n láº¡i\n    </div>\n  </div>\n  <div class=\"compare-box\" style=\"background:rgba(6,214,160,.07);border:1px solid rgba(6,214,160,.25)\">\n    <div class=\"compare-label\" style=\"color:#34d399\">CÃ¡ch mÃ´ táº£ Ä‘á»ƒ AI sá»­a</div>\n    <div class=\"compare-text\">\n      \"Khi ghi vÃ o kho lÆ°u, chuyá»ƒn danh sÃ¡ch sang chuá»—i vÄƒn báº£n trÆ°á»›c.<br/>\n      Khi Ä‘á»c ra tá»« kho lÆ°u, chuyá»ƒn ngÆ°á»£c láº¡i thÃ nh danh sÃ¡ch.<br/>\n      Náº¿u Ä‘á»c ra mÃ  khÃ´ng há»£p lá»‡ thÃ¬ báº¯t Ä‘áº§u vá»›i danh sÃ¡ch rá»—ng.\"\n    </div>\n  </div>\n</div></div>"},

{"type":"question","color":"#06d6a0","narration":"TÃ¬nh huá»‘ng thá»±c táº¿: app Ä‘Ã£ tÃ­ch há»£p kho lÆ°u, nhÆ°ng khi reload trang, danh sÃ¡ch task load ra trá»‘ng dÃ¹ báº¡n Ä‘Ã£ thÃªm task trÆ°á»›c Ä‘Ã³. Báº¡n cáº§n bÃ¡o lá»—i nÃ y cho AI Ä‘á»ƒ sá»­a. MÃ´ táº£ nÃ o sau Ä‘Ã¢y sáº½ giÃºp AI xÃ¡c Ä‘á»‹nh Ä‘Ãºng nguyÃªn nhÃ¢n?","question":"Sau khi tÃ­ch há»£p kho lÆ°u, reload trang thÃ¬ danh sÃ¡ch trá»‘ng. MÃ´ táº£ lá»—i nÃ o giÃºp AI sá»­a Ä‘Ãºng nháº¥t?","options":[{"text":"\"Kho lÆ°u khÃ´ng hoáº¡t Ä‘á»™ng, sá»­a láº¡i\"","correct":false,"feedback":"QuÃ¡ mÆ¡ há»“. AI khÃ´ng biáº¿t báº¡n Ä‘Ã£ tÃ­ch há»£p tháº¿ nÃ o, lá»—i xáº£y ra á»Ÿ giai Ä‘oáº¡n nÃ o, vÃ  káº¿t quáº£ mong Ä‘á»£i lÃ  gÃ¬. CÃ¢u nÃ y khÃ´ng cho AI Ä‘á»§ thÃ´ng tin Ä‘á»ƒ xÃ¡c Ä‘á»‹nh váº¥n Ä‘á»."},{"text":"\"TÃ´i thÃªm 3 task, reload trang, mong cÃ¡c task váº«n hiá»ƒn thá»‹. Thá»±c táº¿ danh sÃ¡ch trá»‘ng sau reload â€” dá»¯ liá»‡u khÃ´ng Ä‘Æ°á»£c Ä‘á»c ra tá»« kho lÆ°u khi trang má»Ÿ.\"","correct":true,"feedback":"Xuáº¥t sáº¯c! Ba pháº§n chuáº©n: (1) Äang lÃ m gÃ¬ â€” thÃªm 3 task, reload. (2) Mong Ä‘á»£i gÃ¬ â€” task váº«n cÃ²n. (3) Thá»±c táº¿ lÃ  gÃ¬ â€” trá»‘ng sau reload, vá»›i cháº©n Ä‘oÃ¡n sÆ¡ bá»™ Ä‘Ãºng hÆ°á»›ng: khÃ´ng Ä‘á»c Ä‘Æ°á»£c tá»« kho lÆ°u khi má»Ÿ trang. AI sáº½ ngay láº­p tá»©c kiá»ƒm tra pháº§n Ä‘á»c dá»¯ liá»‡u khi khá»Ÿi Ä‘á»™ng."},{"text":"\"localStorage.getItem tráº£ vá» null\"","correct":false,"feedback":"ÄÃ¢y lÃ  ngÃ´n ngá»¯ ká»¹ thuáº­t mÃ  ngÆ°á»i má»›i há»c khÃ´ng cáº§n biáº¿t. HÆ¡n ná»¯a, nÃ³ chá»‰ mÃ´ táº£ má»™t triá»‡u chá»©ng ká»¹ thuáº­t, khÃ´ng mÃ´ táº£ tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng. MÃ´ táº£ theo gÃ³c nhÃ¬n ngÆ°á»i dÃ¹ng luÃ´n hiá»‡u quáº£ hÆ¡n vÃ  AI sáº½ tÃ¬m Ä‘Ãºng nguyÃªn nhÃ¢n."},{"text":"\"App reload bá»‹ lá»—i Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u\"","correct":false,"feedback":"CÃ¢u nÃ y giáº£ Ä‘á»‹nh nguyÃªn nhÃ¢n (Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u) mÃ  khÃ´ng cÃ³ báº±ng chá»©ng. CÃ³ thá»ƒ Ä‘Ãºng, cÃ³ thá»ƒ sai. Tá»‘t hÆ¡n lÃ  mÃ´ táº£ triá»‡u chá»©ng: báº¡n lÃ m gÃ¬, mong Ä‘á»£i gÃ¬, thá»±c táº¿ ra sao â€” Ä‘á»ƒ AI tá»± cháº©n Ä‘oÃ¡n nguyÃªn nhÃ¢n Ä‘Ãºng."}]},

{"type":"reflect","color":"#06d6a0","narration":"TrÆ°á»›c khi tiáº¿p tá»¥c, hÃ£y tá»± kiá»ƒm tra 3 vÃ²ng test quan trá»ng. VÃ²ng 1: thÃªm task, reload trang â€” task cÃ²n. VÃ²ng 2: tick vÃ i task, Ä‘Ã³ng tab hoÃ n toÃ n, má»Ÿ láº¡i â€” tráº¡ng thÃ¡i tick váº«n Ä‘Ãºng. VÃ²ng 3: xÃ³a task, reload â€” task Ä‘Ã£ xÃ³a khÃ´ng hiá»‡n láº¡i. Náº¿u cáº£ 3 vÃ²ng Ä‘á»u Ä‘áº¡t, kho lÆ°u Ä‘Ã£ hoáº¡t Ä‘á»™ng Ä‘Ãºng hoÃ n toÃ n.","html":"<div class=\"bg-color\" style=\"background:#020f07\"></div>\n<div class=\"content\"><div class=\"stag\" style=\"background:rgba(6,214,160,.12);color:#34d399;border-color:rgba(6,214,160,.3)\">Kiá»ƒm tra 3 vÃ²ng</div>\n<h2 class=\"big\">XÃ¡c nháº­n kho lÆ°u hoáº¡t Ä‘á»™ng Ä‘Ãºng</h2>\n<div class=\"rule\" style=\"background:#06d6a0\"></div>\n<div style=\"display:flex;flex-direction:column;gap:12px;max-width:640px;width:100%;margin-top:28px\">\n  <div style=\"display:flex;align-items:flex-start;gap:14px;background:rgba(6,214,160,.07);border:1px solid rgba(6,214,160,.2);border-radius:12px;padding:16px 18px\">\n    <span style=\"font-size:1.3rem;flex-shrink:0\">ğŸ”„</span>\n    <div style=\"text-align:left\"><div style=\"font-weight:700;color:#34d399\">VÃ²ng 1 â€” Reload</div><div style=\"font-size:.85rem;color:rgba(255,255,255,.6);margin-top:3px\">ThÃªm 3 task â†’ Reload trang â†’ 3 task váº«n xuáº¥t hiá»‡n Ä‘Ãºng âœ“</div></div>\n  </div>\n  <div style=\"display:flex;align-items:flex-start;gap:14px;background:rgba(6,214,160,.07);border:1px solid rgba(6,214,160,.2);border-radius:12px;padding:16px 18px\">\n    <span style=\"font-size:1.3rem;flex-shrink:0\">ğŸ“Œ</span>\n    <div style=\"text-align:left\"><div style=\"font-weight:700;color:#34d399\">VÃ²ng 2 â€” Tráº¡ng thÃ¡i tick</div><div style=\"font-size:.85rem;color:rgba(255,255,255,.6);margin-top:3px\">Tick 1 task â†’ ÄÃ³ng tab â†’ Má»Ÿ láº¡i â†’ Task váº«n tick Ä‘Ãºng chá»— âœ“</div></div>\n  </div>\n  <div style=\"display:flex;align-items:flex-start;gap:14px;background:rgba(6,214,160,.07);border:1px solid rgba(6,214,160,.2);border-radius:12px;padding:16px 18px\">\n    <span style=\"font-size:1.3rem;flex-shrink:0\">ğŸ—‘ï¸</span>\n    <div style=\"text-align:left\"><div style=\"font-weight:700;color:#34d399\">VÃ²ng 3 â€” XÃ³a vÄ©nh viá»…n</div><div style=\"font-size:.85rem;color:rgba(255,255,255,.6);margin-top:3px\">XÃ³a task â†’ Reload â†’ Task Ä‘Ã£ xÃ³a khÃ´ng hiá»‡n láº¡i âœ“</div></div>\n  </div>\n</div></div>"},

{"type":"teach","color":"#06d6a0","narration":"HÃ£y nhÃ¬n láº¡i hÃ nh trÃ¬nh 3 buá»•i. Buá»•i 1 báº¡n build táº§ng Giao diá»‡n â€” HTML CSS, thá»© ngÆ°á»i dÃ¹ng nhÃ¬n tháº¥y. Buá»•i 2 báº¡n thÃªm táº§ng Xá»­ lÃ½ â€” JavaScript, logic váº­n hÃ nh app. Buá»•i 3 báº¡n hoÃ n thiá»‡n táº§ng Dá»¯ liá»‡u â€” kho lÆ°u, trÃ­ nhá»› lÃ¢u dÃ i cá»§a app. Ba táº§ng Ä‘Ã£ láº¯p xong. App cá»§a báº¡n khÃ´ng cÃ²n lÃ  poster â€” nÃ³ lÃ  á»©ng dá»¥ng tháº­t, hoáº¡t Ä‘á»™ng Ä‘áº§y Ä‘á»§, nhá»› dá»¯ liá»‡u. ÄÃ¢y lÃ  cá»™t má»‘c quan trá»ng.","html":"<div class=\"bg-color\" style=\"background:linear-gradient(135deg,#020f07,#0a0820)\"></div>\n<div class=\"content\"><div class=\"stag\" style=\"color:#6ee7b7;border-color:rgba(6,214,160,.5);background:rgba(6,214,160,.18)\">Cá»™t má»‘c</div>\n<h2 class=\"big\">3 táº§ng Ä‘Ã£ láº¯p xong</h2>\n<div class=\"rule\" style=\"background:#06d6a0\"></div>\n<div style=\"display:flex;flex-direction:column;gap:0;width:100%;max-width:580px;margin-top:28px\">\n  <div style=\"display:flex;gap:16px;padding:14px 0;border-bottom:1px solid rgba(255,255,255,.06)\">\n    <div style=\"width:16px;height:16px;border-radius:50%;background:#6c63ff;flex-shrink:0;margin-top:3px;box-shadow:0 0 10px #6c63ff\"></div>\n    <div><div style=\"font-weight:700;color:#a5b4fc\">Buá»•i 1 â€” Giao diá»‡n âœ…</div><div style=\"font-size:.83rem;color:var(--muted);margin-top:2px\">HTML + CSS Â· Thá»© ngÆ°á»i dÃ¹ng nhÃ¬n tháº¥y</div></div>\n  </div>\n  <div style=\"display:flex;gap:16px;padding:14px 0;border-bottom:1px solid rgba(255,255,255,.06)\">\n    <div style=\"width:16px;height:16px;border-radius:50%;background:#f77f00;flex-shrink:0;margin-top:3px;box-shadow:0 0 10px #f77f00\"></div>\n    <div><div style=\"font-weight:700;color:#fdba74\">Buá»•i 2 â€” Xá»­ lÃ½ âœ…</div><div style=\"font-size:.83rem;color:var(--muted);margin-top:2px\">JavaScript Â· Logic thÃªm, tick, xÃ³a task</div></div>\n  </div>\n  <div style=\"display:flex;gap:16px;padding:14px 0;border-bottom:1px solid rgba(255,255,255,.06)\">\n    <div style=\"width:16px;height:16px;border-radius:50%;background:#06d6a0;flex-shrink:0;margin-top:3px;box-shadow:0 0 10px #06d6a0\"></div>\n    <div><div style=\"font-weight:700;color:#34d399\">Buá»•i 3 â€” Dá»¯ liá»‡u âœ…</div><div style=\"font-size:.83rem;color:var(--muted);margin-top:2px\">Kho lÆ°u trÃ¬nh duyá»‡t Â· Nhá»› dá»¯ liá»‡u vÄ©nh viá»…n</div></div>\n  </div>\n  <div style=\"display:flex;gap:16px;padding:14px 0;border-bottom:1px solid rgba(255,255,255,.06)\">\n    <div style=\"width:16px;height:16px;border-radius:50%;background:rgba(255,255,255,.1);border:2px solid rgba(255,255,255,.15);flex-shrink:0;margin-top:3px\"></div>\n    <div><div style=\"font-weight:700;color:rgba(255,255,255,.4)\">Buá»•i 4 â€” Tráº£i nghiá»‡m</div><div style=\"font-size:.83rem;color:var(--muted);margin-top:2px\">UX tá»‘t Â· App pháº£n há»“i má»i tÃ¬nh huá»‘ng</div></div>\n  </div>\n  <div style=\"display:flex;gap:16px;padding:14px 0\">\n    <div style=\"width:16px;height:16px;border-radius:50%;background:rgba(255,255,255,.1);border:2px solid rgba(255,255,255,.15);flex-shrink:0;margin-top:3px\"></div>\n    <div><div style=\"font-weight:700;color:rgba(255,255,255,.4)\">Buá»•i 5 â€” Ra máº¯t</div><div style=\"font-size:.83rem;color:var(--muted);margin-top:2px\">Deploy Â· URL tháº­t Â· Ai cÅ©ng vÃ o Ä‘Æ°á»£c</div></div>\n  </div>\n</div></div>"},

{"type":"question","color":"#a855f7","narration":"App 3 táº§ng Ä‘Ã£ hoÃ n chá»‰nh vá» chá»©c nÄƒng. NhÆ°ng náº¿u tá»± dÃ¹ng app nhÆ° má»™t ngÆ°á»i dÃ¹ng láº§n Ä‘áº§u, báº¡n sáº½ tháº¥y má»™t sá»‘ Ä‘iá»ƒm chÆ°a tá»‘t. Theo báº¡n, app hiá»‡n táº¡i Ä‘ang thiáº¿u gÃ¬ Ä‘á»ƒ cáº£m giÃ¡c tháº­t sá»± hoÃ n thiá»‡n?","question":"App Ä‘Ã£ hoáº¡t Ä‘á»™ng Ä‘áº§y Ä‘á»§. NhÆ°ng Ä‘á»ƒ gá»i lÃ  'á»©ng dá»¥ng tá»‘t', app cÃ²n thiáº¿u gÃ¬ nháº¥t?","options":[{"text":"ThÃªm mÃ u sáº¯c Ä‘áº¹p hÆ¡n vÃ  animation mÆ°á»£t hÆ¡n","correct":false,"feedback":"Giao diá»‡n Ä‘áº¹p lÃ  tá»‘t, nhÆ°ng khÃ´ng pháº£i Æ°u tiÃªn. App tá»‘t trÆ°á»›c tiÃªn pháº£i hoáº¡t Ä‘á»™ng Ä‘Ãºng trong má»i tÃ¬nh huá»‘ng â€” ká»ƒ cáº£ khi ngÆ°á»i dÃ¹ng lÃ m Ä‘iá»u báº¥t ngá». ÄÃ¢y lÃ  sá»± khÃ¡c biá»‡t giá»¯a app chá»‰ Ä‘áº¹p vÃ  app tháº­t sá»± Ä‘Ã¡ng dÃ¹ng."},{"text":"Xá»­ lÃ½ cÃ¡c tÃ¬nh huá»‘ng ngÆ°á»i dÃ¹ng lÃ m Ä‘iá»u báº¥t ngá» â€” thÃªm task trá»‘ng, xÃ³a nháº§m, task cá»±c dÃ i","correct":true,"feedback":"ÄÃºng! App hiá»‡n táº¡i chá»‰ hoáº¡t Ä‘á»™ng tá»‘t khi ngÆ°á»i dÃ¹ng lÃ m Ä‘Ãºng nhÆ° dá»± kiáº¿n. NhÆ°ng ngÆ°á»i dÃ¹ng tháº­t luÃ´n báº¥m nháº§m, nháº­p sai, hay lÃ m Ä‘iá»u khÃ´ng ngá» tá»›i. Buá»•i 4 giáº£i quyáº¿t Ä‘Ãºng Ä‘iá»u nÃ y â€” báº¡n sáº½ tá»± dÃ¹ng app nhÆ° ngÆ°á»i dÃ¹ng láº§n Ä‘áº§u vÃ  tá»± phÃ¡t hiá»‡n nhá»¯ng chá»— cáº§n cáº£i thiá»‡n."},{"text":"ThÃªm tÃ­nh nÄƒng chia sáº» task qua máº¡ng xÃ£ há»™i","correct":false,"feedback":"Chia sáº» máº¡ng xÃ£ há»™i lÃ  tÃ­nh nÄƒng bá»• sung, khÃ´ng pháº£i ná»n táº£ng. TrÆ°á»›c khi thÃªm tÃ­nh nÄƒng má»›i, hÃ£y Ä‘áº£m báº£o core Ä‘ang hoáº¡t Ä‘á»™ng tá»‘t trong má»i tÃ¬nh huá»‘ng thÃ´ng thÆ°á»ng."},{"text":"Viáº¿t hÆ°á»›ng dáº«n sá»­ dá»¥ng cho ngÆ°á»i dÃ¹ng","correct":false,"feedback":"App tá»‘t khÃ´ng cáº§n hÆ°á»›ng dáº«n â€” ngÆ°á»i dÃ¹ng pháº£i tá»± hiá»ƒu Ä‘Æ°á»£c ngay. Náº¿u pháº£i viáº¿t hÆ°á»›ng dáº«n dÃ i, Ä‘Ã³ lÃ  dáº¥u hiá»‡u app cÃ²n khÃ³ sá»­ dá»¥ng. Æ¯u tiÃªn lÃ m app tá»± giáº£i thÃ­ch Ä‘Æ°á»£c chÃ­nh nÃ³."}]},

{"type":"reflect","color":"#06d6a0","narration":"Checklist cuá»‘i buá»•i 3. Kiá»ƒm tra 5 Ä‘iá»u. Má»™t: reload trang â€” toÃ n bá»™ task váº«n cÃ²n nguyÃªn. Hai: Ä‘Ã³ng tab, má»Ÿ láº¡i â€” tráº¡ng thÃ¡i tick Ä‘Ãºng. Ba: xÃ³a task, reload â€” task Ä‘Ã£ xÃ³a khÃ´ng hiá»‡n láº¡i. Bá»‘n: báº¡n hiá»ƒu 2 thao tÃ¡c kho lÆ°u lÃ  ghi vÃ  Ä‘á»c, vÃ  biáº¿t chÃºng xáº£y ra khi nÃ o. NÄƒm: báº¡n cÃ³ thá»ƒ mÃ´ táº£ mong muá»‘n thÃªm kho lÆ°u cho AI theo yáº¿u tá»‘ thá»© 7 â€” luá»“ng dá»¯ liá»‡u. Äá»§ 5 thÃ¬ Buá»•i 3 thÃ nh cÃ´ng hoÃ n toÃ n.","html":"<div class=\"bg-color\" style=\"background:#020f07\"></div>\n<div class=\"content\"><div class=\"stag\" style=\"background:rgba(6,214,160,.12);color:#34d399;border-color:rgba(6,214,160,.3)\">Checklist cuá»‘i buá»•i</div>\n<h2 class=\"big\">Báº¡n Ä‘Ã£ lÃ m Ä‘Æ°á»£c gÃ¬?</h2>\n<div class=\"rule\" style=\"background:#06d6a0\"></div>\n<ul style=\"list-style:none;max-width:620px;width:100%;margin-top:24px\">\n  <li style=\"display:flex;align-items:center;gap:14px;padding:11px 0;border-bottom:1px solid rgba(255,255,255,.06);font-size:.95rem;color:rgba(255,255,255,.8)\"><svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#06d6a0\" stroke-width=\"2.5\" stroke-linecap=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg>Reload trang â€” task váº«n cÃ²n nguyÃªn</li>\n  <li style=\"display:flex;align-items:center;gap:14px;padding:11px 0;border-bottom:1px solid rgba(255,255,255,.06);font-size:.95rem;color:rgba(255,255,255,.8)\"><svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#06d6a0\" stroke-width=\"2.5\" stroke-linecap=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg>ÄÃ³ng tab, má»Ÿ láº¡i â€” tráº¡ng thÃ¡i tick váº«n Ä‘Ãºng</li>\n  <li style=\"display:flex;align-items:center;gap:14px;padding:11px 0;border-bottom:1px solid rgba(255,255,255,.06);font-size:.95rem;color:rgba(255,255,255,.8)\"><svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#06d6a0\" stroke-width=\"2.5\" stroke-linecap=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg>XÃ³a task, reload â€” task Ä‘Ã£ xÃ³a khÃ´ng hiá»‡n láº¡i</li>\n  <li style=\"display:flex;align-items:center;gap:14px;padding:11px 0;border-bottom:1px solid rgba(255,255,255,.06);font-size:.95rem;color:rgba(255,255,255,.8)\"><svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#06d6a0\" stroke-width=\"2.5\" stroke-linecap=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg>Hiá»ƒu khi nÃ o ghi, khi nÃ o Ä‘á»c tá»« kho lÆ°u</li>\n  <li style=\"display:flex;align-items:center;gap:14px;padding:11px 0;font-size:.95rem;color:rgba(255,255,255,.8)\"><svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#06d6a0\" stroke-width=\"2.5\" stroke-linecap=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg>Biáº¿t viáº¿t yÃªu cáº§u AI mÃ´ táº£ luá»“ng dá»¯ liá»‡u (yáº¿u tá»‘ thá»© 7)</li>\n</ul></div>"},

{"type":"teach","color":"#a855f7","narration":"Preview Buá»•i 4: app Ä‘Ã£ hoÃ n chá»‰nh vá» ká»¹ thuáº­t. NhÆ°ng ngÆ°á»i dÃ¹ng tháº­t sáº½ thÃªm task rá»—ng, xÃ³a nháº§m mÃ  khÃ´ng Ä‘Æ°á»£c há»i láº¡i, nháº­p tÃªn cá»±c dÃ i lÃ m vá»¡ giao diá»‡n. Buá»•i 4 báº¡n sáº½ Ä‘á»•i vai â€” khÃ´ng cÃ²n lÃ  ngÆ°á»i build mÃ  lÃ  ngÆ°á»i dÃ¹ng láº§n Ä‘áº§u. Báº¡n sáº½ tá»± phÃ¡ app vÃ  tÃ¬m ra nhá»¯ng chá»— app Ä‘ang khÃ´ng thÃ¢n thiá»‡n vá»›i ngÆ°á»i dÃ¹ng. CÃ¢u há»i Ä‘á»ƒ suy nghÄ© trÆ°á»›c: khi báº¡n báº¥m Add mÃ  Ã´ nháº­p trá»‘ng, app nÃªn lÃ m gÃ¬?","html":"<div class=\"bg-img\" style=\"background-image:url('https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?auto=format&fit=crop&w=1600&q=80')\"></div>\n<div class=\"content\"><div class=\"stag\" style=\"background:rgba(0,0,0,.5);color:#d8b4fe;border-color:rgba(168,85,247,.4)\">Preview â€” Buá»•i 4</div>\n<h2 class=\"big\">Buá»•i 4: Tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng</h2>\n<div class=\"rule\" style=\"background:#a855f7\"></div>\n<p class=\"sub\" style=\"margin-top:18px\">Äá»•i vai: tá»« ngÆ°á»i build sang ngÆ°á»i dÃ¹ng láº§n Ä‘áº§u.<br/>Tá»± phÃ¡t hiá»‡n chá»— app cÃ²n báº¥t lá»‹ch sá»± vá»›i ngÆ°á»i dÃ¹ng.<br/><strong style=\"color:#d8b4fe\">CÃ¢u há»i: Báº¥m Add vá»›i Ã´ nháº­p trá»‘ng â€” app nÃªn lÃ m gÃ¬?</strong></p></div>"}
];

// â”€â”€ Build slides â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const deck = document.getElementById('deck');
SLIDES.forEach((s,i)=>{
  const el = document.createElement('div');
  el.className = 'slide';
  el.innerHTML = s.html;
  deck.appendChild(el);
});
const allSlides = deck.querySelectorAll('.slide');

// â”€â”€ State â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let cur = 0;
let autoMode = false;
let speaking = false;
let audioSrc = null;
let voiceRate = parseFloat(localStorage.getItem('b3_rate') || '0.9');
const FPT_KEY = 'XNZzpBQVWhTOCRc7MhOGbezPQznkhNew';
const FPT_VOICE = 'banmai';
let qAnswered = false;
let qState = null;
let qThinkTimer = null;
let qFallbackTimer = null;
let speakGen = 0;
let slideMinTimer = null;

// â”€â”€ Settings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const settingsBtn = document.getElementById('settings-btn');
const settingsPanel = document.getElementById('settings-panel');
const sClose = document.getElementById('s-close');
const sRate = document.getElementById('s-rate');
const sRateVal = document.getElementById('s-rate-val');
const sSave = document.getElementById('s-save');
const sTest = document.getElementById('s-test');

sRate.value = voiceRate;
sRateVal.textContent = voiceRate.toFixed(2)+'Ã—';

sRate.addEventListener('input', ()=>{ voiceRate = +sRate.value; sRateVal.textContent = voiceRate.toFixed(2)+'Ã—'; });
settingsBtn.onclick = ()=>settingsPanel.classList.toggle('open');
sClose.onclick = ()=>settingsPanel.classList.remove('open');
sSave.onclick = ()=>{
  voiceRate = +sRate.value;
  localStorage.setItem('b3_rate', voiceRate);
  settingsPanel.classList.remove('open');
};
sTest.onclick = ()=>speak('Xin chÃ o! ÄÃ¢y lÃ  giá»ng Ban Mai, tá»‘c Ä‘á»™ ' + voiceRate.toFixed(1) + ' láº§n.');

// â”€â”€ Voice â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const vPlay = document.getElementById('v-play');
const icoPlay = document.getElementById('ico-play');
const icoPause = document.getElementById('ico-pause');
const vScript = document.getElementById('v-script');
const vlBar = document.getElementById('vl');

const ttsCache = new Map();

function stopVoice(){
  speakGen++;
  if(audioSrc){ audioSrc.onended=null; audioSrc.onerror=null; audioSrc.pause(); audioSrc = null; }
  speaking = false;
  vPlay.classList.remove('playing');
  icoPlay.style.display = '';
  icoPause.style.display = 'none';
  vlBar.style.width = '0';
  qState = null;
  if(qThinkTimer){ clearInterval(qThinkTimer); qThinkTimer = null; }
  if(qFallbackTimer){ clearTimeout(qFallbackTimer); qFallbackTimer = null; }
  if(slideMinTimer){ clearTimeout(slideMinTimer); slideMinTimer = null; }
  const cdEl = document.getElementById('q-countdown');
  const cbEl = document.getElementById('q-cbar-wrap');
  if(cdEl) cdEl.style.display = 'none';
  if(cbEl) cbEl.style.display = 'none';
}

async function speakFPT(text, gen){
  try {
    let audioUrl = ttsCache.get(text);
    if(!audioUrl){
      const fptSpeed = String(Math.max(-3, Math.min(3, Math.round((voiceRate - 1.0) * 7.5))));
      const resp = await fetch('https://api.fpt.ai/hmi/tts/v5', {
        method:'POST',
        headers:{'api-key': FPT_KEY, 'speed': fptSpeed, 'voice': FPT_VOICE},
        body: text
      });
      if(gen !== speakGen) return false;
      if(!resp.ok){ console.warn('FPT.AI TTS error',resp.status); return false; }
      const data = await resp.json();
      if(gen !== speakGen) return false;
      if(!data.async) { console.warn('FPT.AI no audio URL'); return false; }
      audioUrl = data.async;
      ttsCache.set(text, audioUrl);
    }
    if(gen !== speakGen) return false;
    audioSrc = new Audio(audioUrl);
    const estMs = (text.length * 65) / Math.max(0.5, voiceRate);
    let start = null;
    function tick(ts){
      if(!speaking||!audioSrc||gen!==speakGen) return;
      if(!start) start = ts;
      vlBar.style.width = Math.min(100,((ts-start)/estMs)*100)+'%';
      if(speaking) requestAnimationFrame(tick);
    }
    audioSrc.onplay = ()=>{ speaking=true; requestAnimationFrame(tick); };
    audioSrc.onended = audioSrc.onerror = ()=>{ if(gen===speakGen) onSpeakEnd(); };
    await audioSrc.play();
    return true;
  } catch(e){ console.warn('FPT.AI TTS failed',e); if(audioSrc){ audioSrc.onended=null; audioSrc.onerror=null; audioSrc.pause(); audioSrc=null; } return false; }
}

function onSpeakEnd(){
  speaking = false;
  audioSrc = null;
  vPlay.classList.remove('playing');
  icoPlay.style.display = '';
  icoPause.style.display = 'none';
  setTimeout(()=>vlBar.style.width='0',600);
  if(qState === 'reading_feedback'){
    if(qFallbackTimer){ clearTimeout(qFallbackTimer); qFallbackTimer = null; }
    qState = null;
    qPanel.classList.remove('show');
    setTimeout(()=>go(cur+1, autoMode), 700);
    return;
  }
  if(!autoMode){ return; }
  if(qState === 'reading'){
    startAutoCountdown();
  } else {
    onAutoSpeakDone();
  }
}

async function speak(text){
  speakGen++;
  if(audioSrc){ audioSrc.onended=null; audioSrc.onerror=null; audioSrc.pause(); audioSrc=null; }
  if(!text){ speaking=false; return; }
  const gen = speakGen;
  vScript.textContent = text;
  speaking = true;
  vPlay.classList.add('playing');
  icoPlay.style.display = 'none';
  icoPause.style.display = '';
  const ok = await speakFPT(text, gen);
  if(gen !== speakGen) return;
  if(!ok){ speaking=false; vPlay.classList.remove('playing'); icoPlay.style.display=''; icoPause.style.display='none'; if(gen===speakGen) onSpeakEnd(); }
}

function onAutoSpeakDone(){
  slideMinTimer = setTimeout(()=>{ slideMinTimer=null; if(autoMode) go(cur+1, true); }, 2500);
}

function startAutoCountdown(){
  qState = 'countdown';
  let secs = 4;
  const cdEl = document.getElementById('q-countdown');
  const cbWrap = document.getElementById('q-cbar-wrap');
  const cbFill = document.getElementById('q-cbar-fill');
  if(cdEl){ cdEl.textContent = 'â³ Suy nghÄ©... ' + secs + 's'; cdEl.style.display = 'block'; }
  if(cbWrap){ cbWrap.style.display = 'block'; }
  if(cbFill){
    cbFill.style.transition = 'none';
    cbFill.style.width = '100%';
    setTimeout(()=>{
      cbFill.style.transition = 'width ' + secs + 's linear';
      cbFill.style.width = '0%';
    }, 60);
  }
  qThinkTimer = setInterval(()=>{
    secs--;
    if(cdEl) cdEl.textContent = secs > 0 ? ('â³ Suy nghÄ©... ' + secs + 's') : 'âœ¨ Xem Ä‘Ã¡p Ã¡n...';
    if(secs <= 0){
      clearInterval(qThinkTimer); qThinkTimer = null;
      if(cdEl) cdEl.style.display = 'none';
      if(cbWrap) cbWrap.style.display = 'none';
      autoRevealAnswer();
    }
  }, 1000);
}

function autoRevealAnswer(){
  if(!autoMode) return;
  const s = SLIDES[cur];
  if(!s || s.type !== 'question') return;
  qAnswered = true;
  const correctIdx = s.options.findIndex(o => o.correct);
  const btns = qOpts.querySelectorAll('.q-opt');
  btns.forEach(b => { b.disabled = true; });
  if(btns[correctIdx]) btns[correctIdx].classList.add('correct');
  const opt = s.options[correctIdx];
  qFeedback.innerHTML = '<strong style="color:#34d399">âœ… ÄÃ¡p Ã¡n Ä‘Ãºng:</strong> ' + opt.feedback;
  qFeedback.classList.add('show');
  qContinue.className = 'b-btn';
  qState = 'reading_feedback';
  speak(opt.feedback);
  if(qFallbackTimer) clearTimeout(qFallbackTimer);
  qFallbackTimer = setTimeout(()=>{
    if(qState === 'reading_feedback'){
      qState = null;
      qPanel.classList.remove('show');
      go(cur+1, true);
    }
  }, 8000);
}

vPlay.onclick = ()=>{ speaking ? stopVoice() : speak(SLIDES[cur].narration); };

// â”€â”€ AUTO mode â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const vAuto = document.getElementById('v-auto');
vAuto.onclick = ()=>{
  autoMode = !autoMode;
  vAuto.classList.toggle('on', autoMode);
  vAuto.title = autoMode ? 'Dá»«ng AUTO' : 'AUTO: tá»± dáº¡y, tá»± há»i, Ä‘á»£i báº¡n tráº£ lá»i rá»“i tiáº¿p';
  if(autoMode){
    const s = SLIDES[cur];
    if(s.type==='question') showQPanel(s);
    else speak(s.narration);
  } else {
    stopVoice();
    qPanel.classList.remove('show');
  }
};

// â”€â”€ Q Panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const qPanel = document.getElementById('q-panel');
const qText = document.getElementById('q-text');
const qOpts = document.getElementById('q-opts');
const qFeedback = document.getElementById('q-feedback');
const qContinue = document.getElementById('q-continue');

function showQPanel(s){
  qAnswered = false;
  qState = autoMode ? 'reading' : null;
  if(qThinkTimer){ clearInterval(qThinkTimer); qThinkTimer = null; }
  const cdEl = document.getElementById('q-countdown');
  const cbEl = document.getElementById('q-cbar-wrap');
  if(cdEl) cdEl.style.display = 'none';
  if(cbEl) cbEl.style.display = 'none';
  qText.textContent = s.question;
  qOpts.innerHTML = '';
  qFeedback.className = '';
  qFeedback.textContent = '';
  qContinue.className = 'b-btn';
  const labels = ['A','B','C','D'];
  s.options.forEach((opt,i)=>{
    const btn = document.createElement('button');
    btn.className = 'q-opt';
    btn.innerHTML = `<span class="opt-num">${labels[i]}</span><span>${opt.text}</span>`;
    btn.onclick = ()=>{
      if(qAnswered) return;
      if(qThinkTimer){ clearInterval(qThinkTimer); qThinkTimer = null; }
      const cdEl2 = document.getElementById('q-countdown');
      const cbEl2 = document.getElementById('q-cbar-wrap');
      if(cdEl2) cdEl2.style.display = 'none';
      if(cbEl2) cbEl2.style.display = 'none';
      qAnswered = true;
      qOpts.querySelectorAll('.q-opt').forEach(b=>{ b.disabled=true; });
      btn.classList.add(opt.correct ? 'correct' : 'wrong');
      if(!opt.correct){
        qOpts.querySelectorAll('.q-opt')[s.options.findIndex(o=>o.correct)].classList.add('correct');
      }
      const icon = opt.correct ? 'âœ…' : 'ğŸ’¡';
      qFeedback.innerHTML = `<strong style="color:${opt.correct?'#34d399':'#fcd34d'}">${icon} ${opt.correct ? 'ChÃ­nh xÃ¡c!' : 'ChÆ°a Ä‘Ãºng â€”'}</strong> ${opt.feedback}`;
      qFeedback.classList.add('show');
      qContinue.style.background = opt.correct ? '#06d6a0' : '#f77f00';
      qContinue.style.color = opt.correct ? '#0a1a0a' : '#fff';
      qContinue.classList.add('show');
      qState = 'reading_feedback';
      const capturedAuto = autoMode;
      speak(opt.feedback);
      if(qFallbackTimer) clearTimeout(qFallbackTimer);
      qFallbackTimer = setTimeout(()=>{
        if(qState === 'reading_feedback'){
          qState = null;
          qPanel.classList.remove('show');
          go(cur+1, capturedAuto);
        }
      }, 8000);
    };
    qOpts.appendChild(btn);
  });
  qPanel.classList.add('show');
  speak(s.narration || s.question);
}

qContinue.onclick = ()=>{
  if(qFallbackTimer){ clearTimeout(qFallbackTimer); qFallbackTimer = null; }
  qState = null;
  stopVoice();
  qPanel.classList.remove('show');
  setTimeout(()=> autoMode ? go(cur+1, true) : go(cur+1), 200);
};

// â”€â”€ Navigation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const prog = document.getElementById('prog');
const counter = document.getElementById('counter');

function go(idx, fromAuto){
  if(idx < 0 || idx >= SLIDES.length) return;
  if(!fromAuto){
    stopVoice();
    qPanel.classList.remove('show');
    autoMode = false;
    vAuto.classList.remove('on');
  }
  const prevIdx = cur;
  if(prevIdx !== idx){
    allSlides[prevIdx].className = 'slide out';
    setTimeout(()=>{ if(allSlides[prevIdx]) allSlides[prevIdx].className='slide'; }, 400);
  }
  allSlides[idx].className = 'slide active';
  cur = idx;
  const pct = (cur/(SLIDES.length-1))*100;
  prog.style.width = pct+'%';
  prog.style.background = SLIDES[cur].color || '#06d6a0';
  counter.textContent = (cur+1)+'/'+SLIDES.length;
  vScript.textContent = SLIDES[cur].narration || '(KhÃ´ng cÃ³ thuyáº¿t minh)';

  const s = SLIDES[cur];
  if(s.type==='question') setTimeout(()=>showQPanel(s), 350);
  else if(fromAuto) speak(s.narration);
}

document.getElementById('nav-next').onclick = ()=>go(cur+1);
document.getElementById('nav-prev').onclick = ()=>go(cur-1);

document.addEventListener('keydown',e=>{
  if(e.target.tagName==='INPUT'||e.target.tagName==='SELECT'||e.target.tagName==='TEXTAREA') return;
  if(e.key==='ArrowRight'||e.key==='ArrowDown'||e.key===' '){e.preventDefault();go(cur+1)}
  if(e.key==='ArrowLeft'||e.key==='ArrowUp'){e.preventDefault();go(cur-1)}
  if(e.key==='v'||e.key==='V'){ speaking ? stopVoice() : speak(SLIDES[cur].narration); }
  if(e.key==='a'||e.key==='A'){ vAuto.click(); }
  if(e.key==='Home') go(0);
  if(e.key==='End') go(SLIDES.length-1);
  if(e.key==='Escape'){ qPanel.classList.remove('show'); stopVoice(); autoMode=false; vAuto.classList.remove('on'); }
});

let tx=0;
document.addEventListener('touchstart',e=>tx=e.touches[0].clientX,{passive:true});
document.addEventListener('touchend',e=>{const dx=e.changedTouches[0].clientX-tx;if(Math.abs(dx)>55) go(dx<0?cur+1:cur-1);},{passive:true});

// â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
go(0);
setTimeout(()=>document.getElementById('hint').style.opacity='0',5000);
</script>
</body>
</html>
